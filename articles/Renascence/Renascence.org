#+TITLE: Renascence
#+AUTHOR: Xt3

* Use
#+BEGIN_SRC lisp
(load "articles/Renascence/Renascence")
(3Renascence:export-html)
#+END_SRC
* Prepare
#+BEGIN_SRC lisp :tangle yes
(ql:quickload :cl-who)

(defpackage Xt3.Page.Renascence
  (:use :cl :cl-who)
  (:nicknames :3Renascence)
  (:export :export-html)
  )
(in-package :Xt3.Page.Renascence)

#+END_SRC


* Helper
#+BEGIN_SRC lisp :tangle yes
(defun ->file (path str)
  (with-open-file (stream path
                          :direction :output
                          :if-exists :supersede
                          :external-format :utf-8)
    (format stream str)))
#+END_SRC

* Export
#+BEGIN_SRC lisp :tangle yes
(defun export-html ()
  (setf (html-mode) :html5)
  (->file "articles/Renascence/Renascence.html" (site-html)))

#+END_SRC
** Html
#+BEGIN_SRC lisp :tangle yes
(defun site-html ()
  (with-html-output-to-string (s nil :indent 2 :prologue t)
    (:html :lang "en"
           (:head (:meta :charset "utf-8")
                  (:link :rel "stylesheet" :href "/testwebsite/css/style.css")
                  (:style (str (site-css))))
           (:body (site-header s)
                  (site-main s)))))

(defun site-header (stream)
  (with-html-output (s stream :indent 2)
    (:header :class "side-header"
             (:a :class "logo" :href "/testwebsite/index.html"
                 (:img :src "/testwebsite/resource/carrot.PNG"))
             (:nav :class "contact" :role "navigation"
                   (:ul
                    (:li (:a :href "https://web.gtv1.org/web/#/UserInfo?id=5e85cf42ca963f510b635c44" "GTV"))
                    (:li (:a :href "mailto:crackwallsports@gmail.com" "Email"))
                    (:li (:a :href "https://twitter.com/iamnotXt3" "Twitter")))))))

(defun site-main (stream)
  (with-html-output (s stream :indent 2)
    (:div :class "content"
          (3Rabbit s)
          :br)))



(defun site-css () nil "
html {
  font-size: 90%;
}
body {
margin: 0;
font-family: -apple-system,BlinkMacSystemFont,\"Segoe UI\",Roboto,\"Helvetica Neue\",Arial,sans-serif,\"Apple Color Emoji\",\"Segoe UI Emoji\",\"Segoe UI Symbol\",\"Noto Color Emoji\";
font-size: 1rem;
font-weight: 400;
line-height: 1.5;
text-align: left;
}
.side-header .contact {
 font-size: 130%}
.btn-link {
 color: black
}
.btn-link:hover {
 text-decoration:none
}
.topic cite {
 font-size: 88%
}
.topic q {
 border-left: 5px rgb(210, 212, 212) solid;
 display: block;
 padding: 5px 10px 5px 10px;
 text-align: justify;
}
 .topic q::before, q::before {
 display: block;
 content: \"\";
}
.topic li pre {
 display: inline;
 margin: 0;
 white-space: pre-wrap;
}
.topic li q {
 margin-left: 16px;
}

.content{
 padding-left: 10%
}
.content .topic {
  border: 1px dashed black;
  padding: 3px;
}
small {
#  font-size: 80%;
}
.topic li pre {
 display: inline-flex;
 white-space: pre-wrap
}


")

#+END_SRC
* Nodes
#+BEGIN_SRC lisp :tangle yes

(defun link (stream link &optional title)
  (let ((tle (if title title link)))
    (with-html-output (s stream :indent 2)
      (:a :href link (str tle)))))

(defun 3Rabbit (stream)
  (with-html-output (s stream :indent 2)
    (:div :class "topic" "3Rabbit æµ‹è¯• : å…”å­ æ‰€è¨€ æ‰€æ€ æ‰€çœ‹ æ‰€å¬ æ‰€å¾—"
          (:ul :class "r-node"
               "Video: " (link s "https://youtu.be/X6wQ4zzRs7U")
               (:small "Youtube:è·¯å¾·ç¤¾LUDE Media")
               (:li (:small :class "node-create-time" "2021.01.04")
                    (:small :class "node-keys" "å…³é”®è¯: " "è·¯å¾·ç¤¾")
                    (:q (:pre "
1/3/2021 è·¯å¾·æ—¶è¯„ï¼ˆè·¯åšè‰¾å† è°ˆï¼‰ï¼š
ç¾å›½å®¶å®‰å…¨å‰¯é¡¾é—®åšæ˜æ­£å¼å‘Šè¯‰è‹±å›½å®˜å‘˜ç—…æ¯’æ¥è‡ªä¸­å…±å®éªŒå®¤æ„å‘³ç€ä»€ä¹ˆï¼Ÿ
æ–°åç¤¾å‰¯ç¤¾é•¿ç†Šå‘æ™–ä¹‹å¥³æ€ä¹ˆè¯´ï¼Ÿ
æ›´å¤šè®®å‘˜å®£å¸ƒæ”¯æŒå…‹é²å…¹çš„1æœˆ6æ—¥å£°æ˜æ„å‘³ç€ä»€ä¹ˆï¼Ÿ"))))
          (:ul :class "r-node"
               "Getter (Video) : " (:a :href "https://gtv.org/getter/5ff1d5fd87fabe2daf2fdc75"
                                       "https://gtv.org/getter/5ff1d5fd87fabe2daf2fdc75")
               (:small "GTV:éƒ­æ–‡è´µMILES")
               (:li (:small :class "node-create-time" "2021.01.04")
                    (:small :class "node-keys" "å…³é”®è¯: " "éƒ­æ–‡è´µ")
                    (:q (:pre "
2021å¹´1æœˆ3å·ï¼šçˆ†æ–™é©å‘½åˆä¸ºç¾å›½åšå‡ºäº†å·¨å¤§è´¡çŒ®ã€‚å”¯çœŸä¸ç ´å°±æ˜¯çˆ†æ–™é©å‘½ç™¾æˆ˜ç™¾èƒœçš„æ³•å®â€¦â€¦çˆ†æ–™é©å‘½çš„è·Ÿéšè€…å°†å¦‚æµ·å•¸èˆ¬çš„çˆ†å‘ï¼Œä¸€åˆ‡éƒ½å·²ç»å¼€å§‹ï¼"))))
          (:ul :class "r-node"
               "X tooo:"
               (:li (:small :class "node-create-time" "2021.01.03")
                    (:small :class "node-keys" "å…³é”®è¯: " "å…”è¯­")
                    (:q (:pre "
å…”å­ æ–°å¹´é—®å€™ ğŸ˜„
æ„¿äººç”Ÿå¹³ç­‰ æœ›ä¼—ç”Ÿå¹³å®‰
å¸Œæœ›")))))))
#+END_SRC

